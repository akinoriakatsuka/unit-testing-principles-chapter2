# 4章
## 4つの柱

1. 対抗に対する保護
1. リファクタリングへの耐性
1. 迅速なフィードバック
1. 保守のしやすさ

1~3は互いに背反なので、バランスを取る必要がある（どれかが0になってはいけない）
4の保守性は、1~3とは関連性がないので、個別に配慮すれば良い
リファクタリングへの耐性は犠牲にできないので、1と4を最大限にした上で、2と3でバランスを取る

### リファクタリングへの耐性

| 実際の振る舞い | 正しい | 間違い | 
|---|---|---|
| テストの正確性 |  |  |
| 成功 | 真陰性 | 偽陰性 |
| 失敗 | 偽陽性 | 真陽性 |

# 5章

モックを使うとテストが壊れやすくなるのか

テストダブル
- モック
  - モック
  - スパイ
- スタブ
  - スタブ
  - ダミー
  - フェイク

モックは出力を模倣
スタブは入力を模倣